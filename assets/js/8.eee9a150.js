(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{405:function(t,s,a){"use strict";a.r(s);var e=a(56),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"docker-的常用笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-的常用笔记"}},[t._v("#")]),t._v(" Docker 的常用笔记")]),t._v(" "),a("h4",{attrs:{id:"帮助命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帮助命令"}},[t._v("#")]),t._v(" 帮助命令")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("  version\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示`docker`的版本号")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" info\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示`docker`的系统信息")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" --help\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 帮助命令")]),t._v("\n")])])]),a("h4",{attrs:{id:"镜像命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[t._v("#")]),t._v(" 镜像命令")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" images "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有本地的主机上的镜像")]),t._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nhello-world         latest              bf756fb1ae65        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(" months ago       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(".3kB\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解释")]),t._v("\nREPOSITORY\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 镜像的仓库源")]),t._v("\nTAG\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 镜像的标签")]),t._v("\nIMAGE ID\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 镜像的id")]),t._v("\nCREATED\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 镜像的创建时间")]),t._v("\nSIZE\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 镜像的大小")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可选项")]),t._v("\n-a --a \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所有的镜像")]),t._v("\n-q --quiet\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只显示镜像的id")]),t._v("\n")])])]),a("h5",{attrs:{id:"镜像搜索命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像搜索命令"}},[t._v("#")]),t._v(" 镜像搜索命令")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" search XXX\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" search XXX --filter"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("STARS"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 搜索STARS大于3000的")]),t._v("\n")])])]),a("h5",{attrs:{id:"镜像下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像下载"}},[t._v("#")]),t._v(" 镜像下载")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull 镜像名:版本号")]),t._v("\n")])])]),a("h5",{attrs:{id:"删除镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[t._v("#")]),t._v(" 删除镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" rmi -f 镜像id或名字\n")])])]),a("h5",{attrs:{id:"创建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建镜像"}},[t._v("#")]),t._v(" 创建镜像")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" build -t 镜像名:tag Dockerfile路径\n")])])]),a("h4",{attrs:{id:"容器命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[t._v("#")]),t._v(" 容器命令")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新建容器并启动")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("镜像名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##可选参数")]),t._v("\n--name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器的名字")]),t._v("\n-d\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 后台运行")]),t._v("\n-it\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用交互方式运行，进入容器查看内容")]),t._v("\n-p\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器随机端口")]),t._v("\n-p\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定容器的端口 -p 8080:8080")]),t._v("\n-v\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 映射文件路径 宿主路径:容器路径  不支持相对路径")]),t._v("\n\t-p id:主机端口:容器端口\n\t-p 主机端口:容器端口  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常用")]),t._v("\n\t-p 容器端口\n\t容器端口\n")])])]),a("h5",{attrs:{id:"列出所有运行的容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列出所有运行的容器"}},[t._v("#")]),t._v(" 列出所有运行的容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("可选参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出当前运行的容器")]),t._v("\n\t-a\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出当前运行的容器 + 带出历史运行的容器")]),t._v("\n\t-n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("?\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示最近创建的容器")]),t._v("\n\t-q\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只显示容的编号")]),t._v("\n")])])]),a("h5",{attrs:{id:"退出容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[t._v("#")]),t._v(" 退出容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从容器退回主机")]),t._v("\nCtr + P + Q\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器不停止退出")]),t._v("\n")])])]),a("h5",{attrs:{id:"删除容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[t._v("#")]),t._v(" 删除容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" 容器 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v("\t\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定的容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -f "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -aq"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\t\t "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有的容器")]),t._v("\n")])])]),a("h5",{attrs:{id:"启动和停止容器的操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止容器的操作"}},[t._v("#")]),t._v(" 启动和停止容器的操作")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" start 容器id\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" restart 容器id\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重庆容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" stop 容器id\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" 容器id\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 强制停止容器")]),t._v("\n")])])]),a("h4",{attrs:{id:"常用其他命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用其他命令"}},[t._v("#")]),t._v(" 常用其他命令")]),t._v(" "),a("h5",{attrs:{id:"后台启动容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台启动容器"}},[t._v("#")]),t._v(" 后台启动容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 问题 “docker run -d 镜像名” 运行容器后， “docker ps” 查看容器，发现容器停止了")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常见的坑，docker 容器使用后台运行，就必须要有一个前台进程，docker 发现没有应用了，就会自动停止")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nginx,容器启动后， 发现自己没有提供服务，就会立即停止，就是因为没有程序了")]),t._v("\n")])])]),a("h5",{attrs:{id:"日志命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志命令"}},[t._v("#")]),t._v(" 日志命令")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker logs -f -t --tail 条数 容器id\n")])])]),a("h5",{attrs:{id:"查看容器进程信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看容器进程信息"}},[t._v("#")]),t._v(" 查看容器进程信息")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" 容器\n")])])]),a("h5",{attrs:{id:"查看镜像的元信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像的元信息"}},[t._v("#")]),t._v(" 查看镜像的元信息")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" inspect 容器id\n")])])]),a("h5",{attrs:{id:"进入当前运行容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入当前运行容器"}},[t._v("#")]),t._v(" 进入当前运行容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 我们通常容器都是使用后台运行的，使用进入容器，修改一些配置")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 方式1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it 容器id bashShell  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## /bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 方式2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" attach 容器id\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 区别")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### docker exect 进入容器后开启一个新的终端，可以在里面操作 （常用）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### docker attach 进入容器正在执行的终端，不开启新的终端")]),t._v("\n")])])]),a("h5",{attrs:{id:"从容器拷贝文件到主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从容器拷贝文件到主机"}},[t._v("#")]),t._v(" 从容器拷贝文件到主机")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" 容器id:容器内路径 目的的主机路径\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);